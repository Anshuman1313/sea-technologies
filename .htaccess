# Make index.html the default
DirectoryIndex index.html

RewriteEngine On
RewriteBase /

# 1️ Serve existing files or directories directly
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 2️ Serve all files in /public directly (robots.txt, favicon, images, etc.)
RewriteCond %{REQUEST_URI} !^/index\.html$
RewriteCond %{REQUEST_URI} !^/.*\.html$
RewriteCond %{REQUEST_URI} !^/.*\.(css|js|png|jpg|jpeg|gif|ico|svg|webp|xml|txt)$
RewriteRule ^ - [L]

# 3️ If a matching .html file exists, serve it
RewriteCond %{DOCUMENT_ROOT}/$1.html -f
RewriteRule ^(.+?)/?$ $1.html [L]

# 4️ Fallback: serve index.html for client-side routing or 404
RewriteRule ^ index.html [L]
